/**
 * fxjs
 * @version 0.1.6
 * @author Boris Cherny <boris@performancejs.com>
 * @license MIT
 * @bugs 
 * 	email: boris@performancejs.com
 * 	url: https://github.com/eighttrackmind/fx/issues
 */
var a=function(){"use strict";function a(a,b){return function(){a.apply(b,h(arguments||[]))}}function b(a){return a.style}function c(a,b){return(a.currentStyle||getComputedStyle(a))[b]}function d(a){return void 0!==a}function e(a){return"number"==typeof a}function f(a){return parseInt(a,10)}function g(a,b){for(var c in b){var d=b[c];d&&a.hasOwnProperty(c)&&(a[c]=d)}}function h(a){return[].slice.call(a)}function i(a){var b=a.split("-"),c=b.length;if(c>1)for(;c-->1;){var d=b[c];b[c]=d.charAt(0).toUpperCase()+d.slice(1)}return b.join("")}var j=document,k=navigator,l=window,m={ie:k.appVersion.search("MSIE")>-1?f(k.appVersion.slice(22,26)):void 0,performance:l.performance&&l.performance.now,prefix:function(){var a,c,e=" -ms- -moz- -webkit-".split(" "),f=b(j.body);for(a=e.length;a--;)if(c=e[a]+"transform",d(f[c]))return c}()},n={animationFrame:function(){var b=m.prefix,c=a(l.requestAnimationFrame||l[b+"RequestAnimationFrame"]||function(){var a=0;return function(b){var c=+new Date,d=Math.max(0,16-(c-a)),e=setTimeout(function(){b(c+d)},d);return a=c+d,e}}(),l),d=a(l.cancelAnimationFrame||l[b+"RequestAnimationFrame"]||l[b+"CancelRequestAnimationFrame"]||clearTimeout,l);return{request:c,cancel:d}}(),transform:function(){var a=m.prefix,b="-"+a+"-transform";return d(j.body.style[b])?b:void 0}()};m.supports3d=function(){if(!(m.ie<9)){var a=j.body,b=j.createElement("p"),e=n.transform;b.style[e]="translate3d(1px,1px,1px)",a.appendChild(b);var f=c(b,e);return a.removeChild(b),d(f)&&f.length>0&&"none"!==f}}();var o={schemas:{css:"bottom left right top margin marginBottom marginLeft marginRight marginTop padding paddingBottom paddingLeft paddingRight paddingTop fontSize height opacity width zoom",css3:"translate translate3d rotate rotate3d scale scale3d",nocss:"scrollLeft scrollTop"},no_negative:"scrollLeft scrollTop fontSize height opacity width zoom",no_unit:"scrollLeft scrollTop opacity zoom scale scale3d"},p=function(a,c,d){var h=this;h.options={duration:300,animationStart:function(){},animationEnd:function(){},transition:"linear",unit:"px"};var j=h.options;d&&g(j,d),c=i(c);var k,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=Math.round,H=a.style,I=o.no_negative.indexOf(c)>0,J=c.indexOf("3d")>-1,K="translate"===c||"translate3d"===c,L=o.no_unit.indexOf(c)<0,M=L?j.unit:"",N=0,O={linear:function(a){var b=[];return u&&b.push(D*a),v&&b.push(E*a),w&&b.push(F*a),b}},P=j.transition,Q="function"==typeof P?P:O.linear;J&&!m.supports3d&&(c=c.replace("3d",""));var R={css:function(a){H[c]=a+M},css3:n.transform?function(a,b,d){var e=[];u&&e.push(a+M),v&&e.push(b+M),w&&m.supports3d&&e.push(d+M),H[n.transform]=c+"("+e.join(",")+")"}:function(a,b){K&&(u&&(H.left=G(a)+M),v&&(H.top=G(b)+M))},nocss:function(b){a[c]=b}},S={css:M?[0]:[1],css3:J?M?[0,0,0]:[1,1,1]:M?[0,0]:[1,1],nocss:[0]},T={css:function(){var d=f(b(a)[c]);return isNaN(d)?S.css:[d]},css3:function(){var d=S.css3,e={scale:6,rotate:7,scale3d:8,rotate3d:9,translate:10,translate3d:12}[c];if(n.transform){var g=b(a)[n.transform],h=g.slice(e,-1).split(",");g&&(h[0]&&(d[0]=f(h[0])),h[1]&&(d[1]=f(h[1])),h[2]&&(d[2]=f(h[2])))}else if(K){var i=b(a).left,j=b(a).top;d=[f(i)||0,f(j)||0]}return d},nocss:function(){var b=a[c];return isNaN(b)?S.nocss:[b]}},U=o.schemas;for(var V in U)for(var W=U[V].split(" "),X=W.length;X--;){var Y=W[X];T[Y]=T[V],R[Y]=R[V]}var Z=R[c],$=T[c],_=function(a){var b=Q(a);u&&(k=x+b[0]),v&&(p=y+b[1]),w&&(q=z+b[2]),I&&(u&&0>k&&(k=0),v&&0>p&&(p=0),w&&0>q&&(q=0)),Z(k,p,q)},ab=function(b){_(b-s),++N,t>b?n.animationFrame.request(ab):(n.animationFrame.cancel(ab),Z(A,B,C),h.options.animationEnd(a,1e3*N/j.duration))},bb=function(b,c,d){var f=j.duration;u=e(b),v=e(c),w=e(d),j.animationStart(a);var g=$();k=g[0],p=g[1],q=g[2],u&&(x=k,A=b,D=(A-x)/f),v&&(y=p,B=c,E=(B-y)/f),w&&(z=q,C=d,F=(C-z)/f),N=0,s=l.mozAnimationStartTime||(m.performance?l.performance.now():+new Date),t=s+f,r=n.animationFrame.request(ab)};return h.element=a,h.property=c,h.get=$,h.set=Z,h.to=bb,h};return p}();